# ðŸ’¾ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ - Rent Management System

## ðŸ“‹ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª](#Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª)
3. [Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª](#Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª)
4. [Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ†](#Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯-ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ†)
5. [Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…](#Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…)
6. [Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ](#Ø§Ù„Ù†Ø³Ø®-Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ-Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)
7. [Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ](#Ø§Ù„ØªØ®Ø²ÙŠÙ†-Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ)
8. [Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©](#Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©)
9. [Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸](#Ø³ÙŠØ§Ø³Ø©-Ø§Ù„Ø§Ø­ØªÙØ§Ø¸)
10. [Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª](#Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©-ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª)
11. [Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡](#Ø§Ø³ØªÙƒØ´Ø§Ù-Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)
12. [Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª](#Ø£ÙØ¶Ù„-Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª)

---

## ðŸŽ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù‡Ùˆ Ø­Ù„ Ø´Ø§Ù…Ù„ Ù„Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±Ø§Øª. ÙŠÙˆÙØ± Ø§Ù„Ù†Ø¸Ø§Ù…:

- âœ… **Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙŠÙˆÙ…ÙŠ** Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
- âœ… **Ø±ÙØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø³Ø­Ø§Ø¨Ø©** (AWS S3 / Google Cloud Storage)
- âœ… **Ø³ÙŠØ§Ø³Ø© Ø§Ø­ØªÙØ§Ø¸ Ø°ÙƒÙŠØ©** (ÙŠÙˆÙ…ÙŠØŒ Ø£Ø³Ø¨ÙˆØ¹ÙŠØŒ Ø´Ù‡Ø±ÙŠ)
- âœ… **Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø³Ø±ÙŠØ¹Ø©** Ù…Ø¹ Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ
- âœ… **Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ** Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø£Ùˆ Ø§Ù„ÙØ´Ù„
- âœ… **ØªØ´ÙÙŠØ± ÙˆØ¶ØºØ·** Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

---

## â­ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª

### 1. Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ

| Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„ÙˆØµÙ | Ø§Ù„ØªÙƒØ±Ø§Ø± Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡ |
|-------|-------|-------------------|
| **Database** | Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª PostgreSQL | ÙŠÙˆÙ…ÙŠ |
| **Media** | Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙˆØ³Ø§Ø¦Ø· (Ø§Ù„ØµÙˆØ±ØŒ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª) | ÙŠÙˆÙ…ÙŠ |
| **Application** | Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ | Ø£Ø³Ø¨ÙˆØ¹ÙŠ |
| **Full** | Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø´Ø§Ù…Ù„ Ù„ÙƒÙ„ Ø´ÙŠØ¡ | ÙŠÙˆÙ…ÙŠ |

### 2. ÙˆØ¬Ù‡Ø§Øª Ø§Ù„ØªØ®Ø²ÙŠÙ†

- ðŸ“ **Ù…Ø­Ù„ÙŠ**: `/backups` ÙÙŠ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
- â˜ï¸ **AWS S3**: ØªØ®Ø²ÙŠÙ† Ø³Ø­Ø§Ø¨ÙŠ Ø¢Ù…Ù† ÙˆÙ…ØªÙŠÙ†
- â˜ï¸ **Google Cloud Storage**: Ø¨Ø¯ÙŠÙ„ Ù…ÙˆØ«ÙˆÙ‚
- ðŸ’¾ **Ø®Ø§Ø¯Ù… Ø¨Ø¹ÙŠØ¯**: Ø¹Ø¨Ø± rsync/scp

### 3. Ø§Ù„Ø£Ù…Ø§Ù†

- ðŸ”’ **Ø¶ØºØ· gzip**: ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„ÙØ§Øª
- ðŸ” **ØªØ´ÙÙŠØ± Ø§Ø®ØªÙŠØ§Ø±ÙŠ**: Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- ðŸ”‘ **ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø©**: Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± root
- ðŸ“ **Ø³Ø¬Ù„Ø§Øª Ù…ÙØµÙ„Ø©**: ØªØªØ¨Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª

---

## ðŸ§© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª

### 1. Bash Script (`scripts/backup.sh`)

Ø³ÙƒØ±ÙŠØ¨Øª Ø´Ø§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ:

```bash
# Ø§Ù„Ù…ÙŠØ²Ø§Øª:
âœ… Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (PostgreSQL)
âœ… Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù…Ù„ÙØ§Øª (Media + Application)
âœ… Ø¶ØºØ· ØªÙ„Ù‚Ø§Ø¦ÙŠ (gzip)
âœ… Ø±ÙØ¹ Ù„Ù„Ø³Ø­Ø§Ø¨Ø© (S3/GCS)
âœ… Ø³ÙŠØ§Ø³Ø© Ø§Ø­ØªÙØ§Ø¸ (rotation)
âœ… Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
âœ… ØªÙ‚Ø§Ø±ÙŠØ± Ù…ÙØµÙ„Ø©
```

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
```bash
# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„
./scripts/backup.sh

# Ù…Ø¹ Ù…ØªØºÙŠØ±Ø§Øª Ø¨ÙŠØ¦Ø© Ù…Ø®ØµØµØ©
DB_NAME=mydb DB_USER=postgres ./scripts/backup.sh
```

### 2. Django Management Command (`manage.py backup`)

Ø£Ù…Ø± Django Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ:

```python
# Ø§Ù„Ù…ÙŠØ²Ø§Øª:
âœ… Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ (database, media, application, full)
âœ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
âœ… Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªØ§Ø­Ø©
âœ… ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø³Ø®
âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©
âœ… Ø±ÙØ¹ Ù„Ù„Ø³Ø­Ø§Ø¨Ø©
```

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
```bash
# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„
python manage.py backup --type=full

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ‚Ø·
python manage.py backup --type=database

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù…Ø¹ Ø±ÙØ¹ Ù„Ù„Ø³Ø­Ø§Ø¨Ø©
python manage.py backup --type=full --upload

# Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªØ§Ø­Ø©
python manage.py backup --list

# Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
python manage.py backup --restore=/path/to/backup.sql.gz

# ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
python manage.py backup --clean

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
python manage.py backup --verify=/path/to/backup.sql.gz

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©
python manage.py backup --test
```

---

## âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„ØªÙƒÙˆÙŠÙ†

### 1. Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª

**Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:**
```bash
# Ø£Ø¯ÙˆØ§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
sudo apt install postgresql-client

# Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¶ØºØ·
sudo apt install gzip tar

# Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
sudo apt install mailutils

# AWS CLI (Ù„Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ S3)
pip install awscli boto3

# Google Cloud SDK (Ù„Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ GCS)
pip install google-cloud-storage
```

### 2. Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©

Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù `.env.backup`:

```bash
# Database Configuration
DB_NAME=rent_management
DB_USER=postgres
DB_PASSWORD=your_password
DB_HOST=localhost
DB_PORT=5432

# Backup Configuration
BACKUP_ROOT=/path/to/backups
RETENTION_DAILY=7
RETENTION_WEEKLY=30
RETENTION_MONTHLY=90

# AWS S3 Configuration
ENABLE_S3_UPLOAD=true
S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key
AWS_DEFAULT_REGION=us-east-1

# Google Cloud Storage Configuration
ENABLE_GCS_UPLOAD=false
GCS_BUCKET=your-gcs-bucket
GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# Email Notifications
ENABLE_EMAIL=true
EMAIL_TO=admin@yourdomain.com
EMAIL_FROM=backup@yourdomain.com

# Optional
BACKUP_APPLICATION=true  # Backup application files
```

### 3. Ø¥Ø¹Ø¯Ø§Ø¯ AWS S3

```bash
# ØªØ«Ø¨ÙŠØª AWS CLI
pip install awscli

# ØªÙƒÙˆÙŠÙ† AWS CLI
aws configure
# AWS Access Key ID: your_access_key
# AWS Secret Access Key: your_secret_key
# Default region name: us-east-1
# Default output format: json

# Ø¥Ù†Ø´Ø§Ø¡ bucket Ù„Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
aws s3 mb s3://your-backup-bucket

# ØªÙØ¹ÙŠÙ„ versioning (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
aws s3api put-bucket-versioning \
    --bucket your-backup-bucket \
    --versioning-configuration Status=Enabled

# ØªÙØ¹ÙŠÙ„ lifecycle policy (Ø­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¹Ø¯ 90 ÙŠÙˆÙ…)
aws s3api put-bucket-lifecycle-configuration \
    --bucket your-backup-bucket \
    --lifecycle-configuration file://lifecycle.json
```

**lifecycle.json:**
```json
{
  "Rules": [
    {
      "Id": "DeleteOldBackups",
      "Status": "Enabled",
      "Prefix": "backups/",
      "Expiration": {
        "Days": 90
      },
      "Transitions": [
        {
          "Days": 30,
          "StorageClass": "GLACIER"
        }
      ]
    }
  ]
}
```

### 4. Ø¥Ø¹Ø¯Ø§Ø¯ Google Cloud Storage

```bash
# ØªØ«Ø¨ÙŠØª Google Cloud SDK
pip install google-cloud-storage

# ØªÙƒÙˆÙŠÙ† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
export GOOGLE_APPLICATION_CREDENTIALS="/path/to/credentials.json"

# Ø¥Ù†Ø´Ø§Ø¡ bucket
gsutil mb gs://your-gcs-bucket

# ØªÙØ¹ÙŠÙ„ versioning
gsutil versioning set on gs://your-gcs-bucket

# ØªÙØ¹ÙŠÙ„ lifecycle policy
gsutil lifecycle set lifecycle.json gs://your-gcs-bucket
```

---

## ðŸš€ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### 1. Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ÙŠØ¯ÙˆÙŠ

#### Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Bash Script:

```bash
# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„
./scripts/backup.sh

# Ù…Ø¹ Ù…ØªØºÙŠØ±Ø§Øª Ù…Ø®ØµØµØ©
DB_NAME=mydb ./scripts/backup.sh
```

#### Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Django Command:

```bash
# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒØ§Ù…Ù„
python manage.py backup --type=full

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ‚Ø·
python manage.py backup --type=database

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ù…Ù„ÙØ§Øª ÙÙ‚Ø·
python manage.py backup --type=media

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù…Ø¹ Ø±ÙØ¹ Ù„Ù„Ø³Ø­Ø§Ø¨Ø©
python manage.py backup --type=full --upload
```

### 2. Ø¹Ø±Ø¶ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù…ØªØ§Ø­Ø©

```bash
# Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
python manage.py backup --list

# Ø§Ù„Ù†ØªÙŠØ¬Ø©:
# Database Backups:
#   db_rent_management_20250122_143000.sql.gz (15.2 MB) - 2025-01-22 14:30:00
#   db_rent_management_20250121_020000.sql.gz (14.8 MB) - 2025-01-21 02:00:00
# 
# Media Backups:
#   media_20250122_143000.tar.gz (125.5 MB) - 2025-01-22 14:30:00
```

### 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
python manage.py backup --verify=backups/database/db_backup.sql.gz

# Ø§Ù„Ù†ØªÙŠØ¬Ø©:
# âœ“ Backup file is valid
```

### 4. ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

```bash
# Ø­Ø°Ù Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø£Ù‚Ø¯Ù… Ù…Ù† 30 ÙŠÙˆÙ…
python manage.py backup --clean

# Ø§Ù„Ù†ØªÙŠØ¬Ø©:
# âœ“ Deleted 15 old backups (2.3 GB)
```

---

## â° Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

### 1. Ø¥Ø¹Ø¯Ø§Ø¯ Cron Job

```bash
# ØªØ­Ø±ÙŠØ± crontab
crontab -e

# Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© ÙŠÙˆÙ…ÙŠØ© ÙÙŠ 2 ØµØ¨Ø§Ø­Ø§Ù‹
0 2 * * * /path/to/rent-management/scripts/backup.sh >> /path/to/logs/backup.log 2>&1

# Ø£Ùˆ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Django command
0 2 * * * cd /path/to/rent-management && /path/to/venv/bin/python manage.py backup --type=full --upload >> /path/to/logs/backup.log 2>&1

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ ÙƒÙ„ 6 Ø³Ø§Ø¹Ø§Øª
0 */6 * * * /path/to/rent-management/scripts/backup.sh

# Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø£Ø³Ø¨ÙˆØ¹ÙŠ (Ø§Ù„Ø£Ø­Ø¯ 3 ØµØ¨Ø§Ø­Ø§Ù‹)
0 3 * * 0 cd /path/to/rent-management && /path/to/venv/bin/python manage.py backup --type=full --upload
```

### 2. Ø¥Ø¹Ø¯Ø§Ø¯ Systemd Timer (Ø¨Ø¯ÙŠÙ„ Ù„Ù€ Cron)

**backup.service:**
```ini
[Unit]
Description=Rent Management Backup Service
After=network.target postgresql.service

[Service]
Type=oneshot
User=rentapp
WorkingDirectory=/home/rentapp/rent-management
Environment="PATH=/home/rentapp/rent-management/venv/bin"
ExecStart=/home/rentapp/rent-management/venv/bin/python manage.py backup --type=full --upload
StandardOutput=append:/home/rentapp/logs/backup.log
StandardError=append:/home/rentapp/logs/backup-error.log

[Install]
WantedBy=multi-user.target
```

**backup.timer:**
```ini
[Unit]
Description=Daily Backup Timer
Requires=backup.service

[Timer]
OnCalendar=daily
OnCalendar=02:00
Persistent=true

[Install]
WantedBy=timers.target
```

**Ø§Ù„ØªÙØ¹ÙŠÙ„:**
```bash
# Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª
sudo cp backup.service /etc/systemd/system/
sudo cp backup.timer /etc/systemd/system/

# ØªÙØ¹ÙŠÙ„ ÙˆØªØ´ØºÙŠÙ„
sudo systemctl daemon-reload
sudo systemctl enable backup.timer
sudo systemctl start backup.timer

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©
sudo systemctl status backup.timer
sudo systemctl list-timers
```

### 3. Docker Cron Service

Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø© cron ÙÙŠ `docker-compose.yml`:

```yaml
services:
  backup:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: rent_management_backup
    restart: unless-stopped
    command: >
      sh -c "echo '0 2 * * * cd /app && python manage.py backup --type=full --upload >> /app/logs/backup.log 2>&1' | crontab - && crond -f"
    environment:
      - DB_NAME=${DB_NAME}
      - DB_USER=${DB_USER}
      - DB_PASSWORD=${DB_PASSWORD}
      - DB_HOST=db
      - ENABLE_S3_UPLOAD=${ENABLE_S3_UPLOAD}
      - S3_BUCKET=${S3_BUCKET}
    volumes:
      - ./backups:/app/backups
      - ./logs:/app/logs
    depends_on:
      - db
    networks:
      - rent_network
```

---

## â˜ï¸ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ

### 1. AWS S3

#### Ø§Ù„ØªÙƒÙˆÙŠÙ†:

```python
# ÙÙŠ settings.py
AWS_STORAGE_BUCKET_NAME = 'your-backup-bucket'
AWS_S3_REGION_NAME = 'us-east-1'
AWS_ACCESS_KEY_ID = os.getenv('AWS_ACCESS_KEY_ID')
AWS_SECRET_ACCESS_KEY = os.getenv('AWS_SECRET_ACCESS_KEY')
```

#### Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:

```bash
# Ø±ÙØ¹ ÙŠØ¯ÙˆÙŠ
python manage.py backup --type=full --upload

# Ø±ÙØ¹ ØªÙ„Ù‚Ø§Ø¦ÙŠ (ÙÙŠ cron)
0 2 * * * python manage.py backup --type=full --upload
```

#### Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙØ¹:

```bash
# Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ S3
aws s3 ls s3://your-backup-bucket/backups/ --recursive

# ØªØ­Ù…ÙŠÙ„ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
aws s3 cp s3://your-backup-bucket/backups/2025/01/db_backup.sql.gz ./
```

### 2. Google Cloud Storage

#### Ø§Ù„ØªÙƒÙˆÙŠÙ†:

```python
# ÙÙŠ settings.py
GS_BUCKET_NAME = 'your-gcs-bucket'
GS_PROJECT_ID = 'your-project-id'
GOOGLE_APPLICATION_CREDENTIALS = '/path/to/credentials.json'
```

#### Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:

```bash
# Ø±ÙØ¹ ÙŠØ¯ÙˆÙŠ
python manage.py backup --type=full --upload

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ÙØ¹
gsutil ls gs://your-gcs-bucket/backups/

# ØªØ­Ù…ÙŠÙ„ Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
gsutil cp gs://your-gcs-bucket/backups/2025/01/db_backup.sql.gz ./
```

---

## ðŸ”„ Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©

### 1. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Django Command:

```bash
# Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ù…Ø­Ù„ÙŠØ©
python manage.py backup --restore=backups/database/db_backup_20250122.sql.gz

# Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù…Ù† S3
aws s3 cp s3://your-bucket/backups/db_backup.sql.gz ./
python manage.py backup --restore=db_backup.sql.gz
```

#### ÙŠØ¯ÙˆÙŠØ§Ù‹:

```bash
# ÙÙƒ Ø§Ù„Ø¶ØºØ·
gunzip -c backups/database/db_backup.sql.gz > db_backup.sql

# Ø§Ø³ØªØ¹Ø§Ø¯Ø©
psql -U postgres -d rent_management < db_backup.sql

# Ø£Ùˆ Ù…Ø¨Ø§Ø´Ø±Ø©
gunzip -c db_backup.sql.gz | psql -U postgres -d rent_management
```

### 2. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…Ù„ÙØ§Øª

```bash
# Ø§Ø³ØªØ¹Ø§Ø¯Ø© Media files
python manage.py backup --restore=backups/media/media_20250122.tar.gz

# ÙŠØ¯ÙˆÙŠØ§Ù‹
tar -xzf backups/media/media_20250122.tar.gz -C /path/to/project/
```

### 3. Ø§Ø³ØªØ¹Ø§Ø¯Ø© ÙƒØ§Ù…Ù„Ø©

```bash
# 1. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
python manage.py backup --restore=backups/database/db_backup.sql.gz

# 2. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
python manage.py backup --restore=backups/media/media_backup.tar.gz

# 3. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ (Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±)
tar -xzf backups/application/app_backup.tar.gz -C /path/to/

# 4. Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø¯Ù…Ø§Øª
sudo systemctl restart rent-management
```

---

## ðŸ“… Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸

### Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©:

| Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„Ù…Ø¯Ø© | Ø§Ù„ÙˆØµÙ |
|-------|------|--------|
| **ÙŠÙˆÙ…ÙŠ** | 7 Ø£ÙŠØ§Ù… | Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙŠÙˆÙ…ÙŠØ© |
| **Ø£Ø³Ø¨ÙˆØ¹ÙŠ** | 30 ÙŠÙˆÙ… | Ù†Ø³Ø®Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ |
| **Ø´Ù‡Ø±ÙŠ** | 90 ÙŠÙˆÙ… | Ù†Ø³Ø®Ø© ÙˆØ§Ø­Ø¯Ø© ÙƒÙ„ Ø´Ù‡Ø± |

### Ø§Ù„ØªØ®ØµÙŠØµ:

```bash
# ÙÙŠ .env.backup
RETENTION_DAILY=7      # Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…
RETENTION_WEEKLY=30    # Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¢Ø®Ø± 30 ÙŠÙˆÙ…
RETENTION_MONTHLY=90   # Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø¢Ø®Ø± 90 ÙŠÙˆÙ…
```

### Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:

```bash
# ÙŠØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø³ÙŠØ§Ø³Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¹Ù†Ø¯ ÙƒÙ„ Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ
./scripts/backup.sh

# Ø£Ùˆ ÙŠØ¯ÙˆÙŠØ§Ù‹
python manage.py backup --clean
```

---

## ðŸ“§ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª

### 1. Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ

#### Ø§Ù„ØªÙƒÙˆÙŠÙ†:

```bash
# ÙÙŠ .env.backup
ENABLE_EMAIL=true
EMAIL_TO=admin@yourdomain.com
EMAIL_FROM=backup@yourdomain.com
```

#### Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­:

```
Subject: Backup Success - Rent Management System

================================================================================
Backup Report - 2025-01-22 02:00:15
================================================================================

Database Backup:
  File: db_rent_management_20250122_020015.sql.gz
  Size: 15.2 MB
  Status: âœ“ Success

Media Backup:
  File: media_20250122_020015.tar.gz
  Size: 125.5 MB
  Status: âœ“ Success

Cloud Storage:
  S3: Enabled
  GCS: Disabled

Backup Location: /home/rentapp/rent-management/backups
Total Backups: 45
Total Size: 2.3 GB

================================================================================
```

### 2. Ø§Ù„Ø³Ø¬Ù„Ø§Øª (Logs)

```bash
# Ø¹Ø±Ø¶ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ
tail -f backups/logs/backup_2025-01-22.log

# Ø¹Ø±Ø¶ Ø¢Ø®Ø± 100 Ø³Ø·Ø±
tail -n 100 backups/logs/backup_2025-01-22.log

# Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£Ø®Ø·Ø§Ø¡
grep "ERROR" backups/logs/*.log
```

### 3. Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ù…Ø¹ Monitoring Tools

#### Ù…Ø¹ Prometheus:

```python
# ÙÙŠ Django
from prometheus_client import Counter, Gauge

backup_success = Counter('backup_success_total', 'Total successful backups')
backup_failure = Counter('backup_failure_total', 'Total failed backups')
backup_size = Gauge('backup_size_bytes', 'Size of last backup')
```

---

## ðŸ”§ Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„Ø£Ø®Ø·Ø§Ø¡

### Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:

#### 1. Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

```bash
# Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
ERROR: could not connect to database

# Ø§Ù„Ø­Ù„
# ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
psql -U postgres -d rent_management -c "SELECT 1"

# ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† PostgreSQL ÙŠØ¹Ù…Ù„
sudo systemctl status postgresql
```

#### 2. Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‚Ø±Øµ Ù…Ù…ØªÙ„Ø¦Ø©

```bash
# Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
ERROR: No space left on device

# Ø§Ù„Ø­Ù„
# Ø­Ø°Ù Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
python manage.py backup --clean

# ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø­Ø©
df -h /path/to/backups
```

#### 3. ÙØ´Ù„ Ø§Ù„Ø±ÙØ¹ Ø¹Ù„Ù‰ S3

```bash
# Ø§Ù„Ù…Ø´ÙƒÙ„Ø©
ERROR: S3 upload failed

# Ø§Ù„Ø­Ù„
# ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§Øª AWS
aws s3 ls

# ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
aws iam get-user

# Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±ÙØ¹
aws s3 cp test.txt s3://your-bucket/
```

#### 4. Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ØªØ§Ù„ÙØ©

```bash
# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ù†Ø³Ø®Ø©
python manage.py backup --verify=backup_file.sql.gz

# Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØªØ§Ù„ÙØ©ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ù†Ø³Ø®Ø© Ø£Ù‚Ø¯Ù…
python manage.py backup --list
```

---

## âœ… Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

### 1. Ø§Ù„Ø£Ù…Ø§Ù†

- âœ… **ØªØ´ÙÙŠØ± Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©** Ø§Ù„Ø­Ø³Ø§Ø³Ø©
- âœ… **ØªØ®Ø²ÙŠÙ† ÙÙŠ Ù…ÙˆØ§Ù‚Ø¹ Ù…ØªØ¹Ø¯Ø¯Ø©** (Ù…Ø­Ù„ÙŠ + Ø³Ø­Ø§Ø¨ÙŠ)
- âœ… **ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø©** Ù„Ù„Ù…Ù„ÙØ§Øª (600)
- âœ… **Ø¹Ø¯Ù… ØªØ®Ø²ÙŠÙ† ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±** ÙÙŠ Ø§Ù„Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª

### 2. Ø§Ù„Ù…ÙˆØ«ÙˆÙ‚ÙŠØ©

- âœ… **Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©** Ø¨Ø§Ù†ØªØ¸Ø§Ù…
- âœ… **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©** ÙŠÙˆÙ…ÙŠØ§Ù‹
- âœ… **Ø§Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†Ø³Ø® Ù…ØªØ¹Ø¯Ø¯Ø©** (3-2-1 rule)
- âœ… **ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©** Ø¨ÙˆØ¶ÙˆØ­

### 3. Ø§Ù„Ø£Ø¯Ø§Ø¡

- âœ… **Ø¬Ø¯ÙˆÙ„Ø© ÙÙŠ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø°Ø±ÙˆØ© Ø§Ù„Ù…Ù†Ø®ÙØ¶Ø©**
- âœ… **Ø¶ØºØ· Ø§Ù„Ù†Ø³Ø®** Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
- âœ… **Ù†Ø³Ø® ØªØ¯Ø±ÙŠØ¬ÙŠ** Ù„Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
- âœ… **ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©** ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

### 4. Ù‚Ø§Ø¹Ø¯Ø© 3-2-1

- **3** Ù†Ø³Ø® Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- **2** ÙˆØ³Ø§Ø¦Ø· ØªØ®Ø²ÙŠÙ† Ù…Ø®ØªÙ„ÙØ©
- **1** Ù†Ø³Ø®Ø© Ø®Ø§Ø±Ø¬ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (Ø³Ø­Ø§Ø¨ÙŠØ©)

---

## ðŸ“ž Ø§Ù„Ø¯Ø¹Ù…

Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø£Ùˆ Ø§Ù„Ø¥Ø¨Ù„Ø§Øº Ø¹Ù† Ù…Ø´Ø§ÙƒÙ„:
- ðŸ“§ Email: support@yourdomain.com
- ðŸ“ Documentation: `/docs/backup`
- ðŸ› Issues: GitHub Issues

---

**ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«**: 2025-01-22  
**Ø§Ù„Ø¥ØµØ¯Ø§Ø±**: 1.0.0
